function Pilha(){this.itens=[],this.push=function(elemento){this.itens.push(elemento)},this.pop=function(){return this.itens.pop()},this.peek=function(){return this.itens[this.itens.length-1]},this.isEmpty=function(){return 0===this.itens.length}}document.addEventListener("DOMContentLoaded",()=>{const displayAndar=document.getElementById("display-andar"),portas=document.getElementById("porta-elevador"),portaE=document.querySelector(".porta.esquerda"),portaD=document.querySelector(".porta.direita"),pilhaAndares=new Pilha;pilhaAndares.push(0);let emMovimento=!1;function backgrounds(index){return`../images/bg_lvl_${index}.png`}function doors(index,side){return`../images/door_lvl_${index}_${side}.png`}function atualizarVisual(andar){const container=document.getElementById("case2-background");container.style.backgroundImage="white"===backgrounds(andar)?"none":`url(${backgrounds(andar)})`,container.style.backgroundColor="white"===backgrounds(andar)?"white":"transparent",portaE.style.backgroundImage=`url(${doors(andar,"l")})`,portaD.style.backgroundImage=`url(${doors(andar,"r")})`}function abrirPortas(){portas.classList.add("abrir")}function fecharPortas(){portas.classList.remove("abrir")}function moverParaAndar(destino){const atual=pilhaAndares.peek();if(emMovimento||destino===atual)return;emMovimento=!0,fecharPortas();const tempo=2e3*Math.abs(destino-atual);displayAndar.textContent=`Indo para o andar ${destino}...`,displayAndar.textContent=(0===destino?"Indo para o térreo":`Indo para o andar ${destino}`)+" ...",setTimeout(()=>{pilhaAndares.push(destino),atualizarVisual(destino),displayAndar.textContent=0===destino?"Você está no térreo":`Você está no andar ${destino}`,abrirPortas(),emMovimento=!1},tempo)}document.querySelectorAll(".andar-btn").forEach(botao=>{botao.addEventListener("click",()=>{moverParaAndar(parseInt(botao.getAttribute("data-andar")))})}),document.addEventListener("keydown",e=>{if("Backspace"===e.key||"ArrowDown"===e.key){if(pilhaAndares.isEmpty())return;const atual=pilhaAndares.pop(),anterior=pilhaAndares.peek();if(void 0!==anterior){fecharPortas();const tempo=2e3*Math.abs(anterior-atual);displayAndar.textContent=`Voltando ao andar ${anterior}...`,emMovimento=!0,setTimeout(()=>{atualizarVisual(anterior),displayAndar.textContent=0===anterior?"Você está no térreo":`Você está no andar ${anterior}`,abrirPortas(),emMovimento=!1},tempo)}else pilhaAndares.push(atual)}}),atualizarVisual(pilhaAndares.peek()),abrirPortas()});
//# sourceMappingURL=elevador.min.js.map